<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>German stemming algorithm - Snowball</title>
    <link href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/" class="pull-left"><img src="/snub-dodecahedron.gif" style="margin: 4px; height: 42px;"></a>
          <a class="navbar-brand" href="/">Snowball</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li><a href="/credits.html">Credits</a></li>
            <li><a href="https://github.com/snowballstem">Source</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-md-2">
          
        </div>
        <div class="col-md-10">
          <h1>German stemming algorithm</h1>


<h2>Links to resources</h2>

<ul>
<li> <A HREF="/algorithms/germanic.html"> Germanic language stemmers</A>
<li> <A HREF="stem_ISO_8859_1.sbl">    The stemmer in Snowball</A>
<li> <A HREF="stem.c">      The ANSI C stemmer</A>
<li> <A HREF="stem.h">      &#x2014; and its header</A>
<li> <A HREF="voc.txt">     Sample German vocabulary</A>
<li> <A HREF="output.txt">  Its stemmed equivalent</A>
<li> <A HREF="tarball.tgz"> Tar-gzipped file of all of the above</A>
<li> <A HREF="stop.txt">     German stop word list</A>
</ul>

<div style="background-color:lightpink">

<p>
Here is a sample of German vocabulary, with the stemmed forms that will
be generated with this algorithm.
</p>

<DL><DD><TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
aufeinander<BR>
aufeinanderbiss<BR>
aufeinanderfolge<BR>
aufeinanderfolgen<BR>
aufeinanderfolgend<BR>
aufeinanderfolgende<BR>
aufeinanderfolgenden<BR>
aufeinanderfolgender<BR>
aufeinanderfolgt<BR>
aufeinanderfolgten<BR>
aufeinanderschlügen<BR>
aufenthalt<BR>
aufenthalten<BR>
aufenthaltes<BR>
auferlegen<BR>
auferlegt<BR>
auferlegten<BR>
auferstand<BR>
auferstanden<BR>
auferstehen<BR>
aufersteht<BR>
auferstehung<BR>
auferstünde<BR>
auferwecken<BR>
auferweckt<BR>
auferzogen<BR>
aufessen<BR>
auffa<BR>
auffallen<BR>
auffallend<BR>
auffallenden<BR>
auffallender<BR>
auffällig<BR>
auffälligen<BR>
auffälliges<BR>
auffassen<BR>
auffasst<BR>
auffaßt<BR>
auffassung<BR>
auffassungsvermögen<BR>
</TD>
<TD></TD><TD> &nbsp;<code><B> =&gt; </B></code>&nbsp; </TD>
<TD></TD><TD>
aufeinand<BR>
aufeinanderbiss<BR>
aufeinanderfolg<BR>
aufeinanderfolg<BR>
aufeinanderfolg<BR>
aufeinanderfolg<BR>
aufeinanderfolg<BR>
aufeinanderfolg<BR>
aufeinanderfolgt<BR>
aufeinanderfolgt<BR>
aufeinanderschlug<BR>
aufenthalt<BR>
aufenthalt<BR>
aufenthalt<BR>
auferleg<BR>
auferlegt<BR>
auferlegt<BR>
auferstand<BR>
auferstand<BR>
aufersteh<BR>
aufersteht<BR>
aufersteh<BR>
auferstund<BR>
auferweck<BR>
auferweckt<BR>
auferzog<BR>
aufess<BR>
auffa<BR>
auffall<BR>
auffall<BR>
auffall<BR>
auffall<BR>
auffall<BR>
auffall<BR>
auffall<BR>
auffass<BR>
auffasst<BR>
auffasst<BR>
auffass<BR>
auffassungsvermog<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
kategorie<BR>
kategorien<BR>
kategorisch<BR>
kategorische<BR>
kategorischen<BR>
kategorischer<BR>
kater<BR>
katerliede<BR>
katern<BR>
katers<BR>
käthchen<BR>
kathedrale<BR>
kathinka<BR>
katholik<BR>
katholische<BR>
katholischen<BR>
katholischer<BR>
kattun<BR>
kattunhalstücher<BR>
katz<BR>
kätzchen<BR>
kätzchens<BR>
katze<BR>
katzen<BR>
katzenschmer<BR>
katzensprung<BR>
katzenwürde<BR>
kätzin<BR>
kätzlein<BR>
katzmann<BR>
kauen<BR>
kauerte<BR>
kauf<BR>
kaufe<BR>
kaufen<BR>
käufer<BR>
kauffahrer<BR>
kaufherr<BR>
kaufleute<BR>
käuflich<BR>
</TD>
<TD></TD><TD> &nbsp;<code><B> =&gt; </B></code>&nbsp; </TD>
<TD></TD><TD>
kategori<BR>
kategori<BR>
kategor<BR>
kategor<BR>
kategor<BR>
kategor<BR>
kat<BR>
katerlied<BR>
kat<BR>
kat<BR>
kathch<BR>
kathedral<BR>
kathinka<BR>
kathol<BR>
kathol<BR>
kathol<BR>
kathol<BR>
kattun<BR>
kattunhalstuch<BR>
katz<BR>
katzch<BR>
katzch<BR>
katz<BR>
katz<BR>
katzenschm<BR>
katzenspr<BR>
katzenwurd<BR>
katzin<BR>
katzlein<BR>
katzmann<BR>
kau<BR>
kauert<BR>
kauf<BR>
kauf<BR>
kauf<BR>
kauf<BR>
kauffahr<BR>
kaufherr<BR>
kaufleut<BR>
kauflich<BR>
</TD>
</TR>
</TABLE></DL>
</div>

<h2>The stemming algorithm</h2>

<p>
German includes the following accented forms,
</p>

<DL><DD>
    <B><I>ä  &nbsp;  ö  &nbsp;  ü</I></B>
</DL>

<p>
and a special letter, <B><I>ß</I></B>, equivalent to double <B><I>s</I></B>.
</p>

<p>
The following letters are vowels:
</p>

<DL><DD>
    <B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp;  y  &nbsp;  ä  &nbsp;  ö  &nbsp;  ü</I></B>
</DL>

<p>
First, replace <B><I>ß</I></B> by <B><I>ss</I></B>, and put <B><I>u</I></B> and <B><I>y</I></B> between vowels into upper case.
<I>R</I>1 and <I>R</I>2 are first set up in the standard way
(see the <A HREF="../../texts/r1r2.html"> note</A> on <I>R</I>1 and <I>R</I>2),
but then <I>R</I>1 is adjusted so that the region before it contains at least 3 letters.
</p>

<p>
Define a valid <B><I>s</I></B>-ending as one of <B><I>b</I></B>, <B><I>d</I></B>, <B><I>f</I></B>, <B><I>g</I></B>, <B><I>h</I></B>, <B><I>k</I></B>, <B><I>l</I></B>, <B><I>m</I></B>, <B><I>n</I></B>, <B><I>r</I></B> or <B><I>t</I></B>.
</p>

<p>
Define a valid <B><I>st</I></B>-ending as the same list, excluding letter <B><I>r</I></B>.
</p>

<p>
Do each of steps 1, 2 and 3.
</p>

<p>
Step 1:
<DL><DD>
    Search for the longest among the following suffixes,
        <DL><DD>
        (<I>a</I>) <B><I>em  &nbsp;  ern  &nbsp;  er</I></B><BR>
        (<I>b</I>) <B><I>e  &nbsp;  en  &nbsp;  es</I></B><BR>
        (<I>c</I>) <B><I>s</I></B> (preceded by a valid <B><I>s</I></B>-ending)
</DL>
    <p>
    and delete if in <I>R</I>1. (Of course the letter of the valid <B><I>s</I></B>-ending is
    not necessarily in <I>R</I>1.) If an ending of group (<I>b</I>) is deleted, and the ending
    is preceded by <B><I>niss</I></B>, delete the final <B><I>s</I></B>.
    </p>

    <p>
    (For example, <I>äckern</I> &#x2192; <I>äck</I>, <I>ackers</I> &#x2192; <I>acker</I>,
    <I>armes</I> &#x2192; <I>arm</I>, <I>bedürfnissen</I> &#x2192; <I>bedürfnis</I>)
    </p>
</DL>
Step 2:
<DL><DD>
    <p>
    Search for the longest among the following suffixes,
    </p>
        <DL><DD>
        (<I>a</I>) <B><I>en  &nbsp;  er  &nbsp;  est</I></B><BR>
        (<I>b</I>) <B><I>st</I></B> (preceded by a valid <B><I>st</I></B>-ending, itself preceded by at least 3
        letters)
</DL>i
    <p>
    and delete if in <I>R</I>1.
    </p>

    <p>
    (For example, <I>derbsten</I> &#x2192; <I>derbst</I> by step 1, and <I>derbst</I> &#x2192; <I>derb</I> by step
    2, since <B><I>b</I></B> is a valid <B><I>st</I></B>-ending, and is preceded by just 3 letters)
    </p>
</DL>
Step 3: <I>d</I>-suffixes <A HREF="../../texts/glossary.html">(*)</A>
<DL><DD>
    <p>
    Search for the longest among the following suffixes, and perform the
    action indicated.
    </p>
<DL>
    <DT><B><I>end  &nbsp;  ung</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>ig</I></B>, delete if in <I>R</I>2 and not preceded by <B><I>e</I></B>
    <DT><B><I>ig  &nbsp;  ik  &nbsp;  isch</I></B>
        <DD>delete if in <I>R</I>2 and not preceded by <B><I>e</I></B>
    <DT><B><I>lich  &nbsp;  heit</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>er</I></B> or <B><I>en</I></B>, delete if in <I>R</I>1
    <DT><B><I>keit</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>lich</I></B> or <B><I>ig</I></B>, delete if in <I>R</I>2
</DL>
</DL>

<p>
Finally,
</p>

<DL><DD>
    turn <B><I>U</I></B> and <B><I>Y</I></B> back into lower case, and remove the umlaut accent from <B><I>a</I></B>,
    <B><I>o</I></B> and <B><I>u</I></B>.
</DL>

<h2>The same algorithm in Snowball</h2>

<div class="highlight"><pre><span class="cm">/*</span>
<span class="cm">    Extra rule for -nisse ending added 11 Dec 2009</span>
<span class="cm">*/</span>

<span class="kd">routines</span> <span class="p">(</span>
           <span class="n">prelude</span> <span class="n">postlude</span>
           <span class="n">mark_regions</span>
           <span class="n">R1</span> <span class="n">R2</span>
           <span class="n">standard_suffix</span>
<span class="p">)</span>

<span class="kd">externals</span> <span class="p">(</span> <span class="n">stem</span> <span class="p">)</span>

<span class="kd">integers</span> <span class="p">(</span> <span class="n">p1</span> <span class="n">p2</span> <span class="n">x</span> <span class="p">)</span>

<span class="kd">groupings</span> <span class="p">(</span> <span class="n">v</span> <span class="n">s_ending</span> <span class="n">st_ending</span> <span class="p">)</span>

<span class="kd">stringescapes</span> <span class="p">{}</span>

<span class="cm">/* special characters (in ISO Latin I) */</span>

<span class="kd">stringdef</span> <span class="n">a&quot;</span>   <span class="mh">hex</span> <span class="s">&#39;E4&#39;</span>
<span class="kd">stringdef</span> <span class="n">o&quot;</span>   <span class="mh">hex</span> <span class="s">&#39;F6&#39;</span>
<span class="kd">stringdef</span> <span class="n">u&quot;</span>   <span class="mh">hex</span> <span class="s">&#39;FC&#39;</span>
<span class="kd">stringdef</span> <span class="n">ss</span>   <span class="mh">hex</span> <span class="s">&#39;DF&#39;</span>

<span class="kd">define</span> <span class="n">v</span> <span class="s">&#39;aeiouy{a&quot;}{o&quot;}{u&quot;}&#39;</span>

<span class="kd">define</span> <span class="n">s_ending</span>  <span class="s">&#39;bdfghklmnrt&#39;</span>
<span class="kd">define</span> <span class="n">st_ending</span> <span class="n">s_ending</span> <span class="o">-</span> <span class="s">&#39;r&#39;</span>

<span class="kd">define</span> <span class="n">prelude</span> <span class="k">as</span> <span class="p">(</span>

    <span class="ow">test</span> <span class="ow">repeat</span> <span class="p">(</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="s">&#39;{ss}&#39;</span><span class="p">]</span> <span class="o">&lt;-</span> <span class="s">&#39;ss&#39;</span>
        <span class="p">)</span> <span class="ow">or</span> <span class="ow">next</span>
    <span class="p">)</span>

    <span class="ow">repeat</span> <span class="ow">goto</span> <span class="p">(</span>
        <span class="n">v</span> <span class="p">[(</span><span class="s">&#39;u&#39;</span><span class="p">]</span> <span class="n">v</span> <span class="o">&lt;-</span> <span class="s">&#39;U&#39;</span><span class="p">)</span> <span class="ow">or</span>
           <span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="n">v</span> <span class="o">&lt;-</span> <span class="s">&#39;Y&#39;</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">mark_regions</span> <span class="k">as</span> <span class="p">(</span>

    <span class="o">$</span><span class="n">p1</span> <span class="o">=</span> <span class="ow">limit</span>
    <span class="o">$</span><span class="n">p2</span> <span class="o">=</span> <span class="ow">limit</span>

    <span class="ow">test</span><span class="p">(</span><span class="ow">hop</span> <span class="m">3</span> <span class="ow">setmark</span> <span class="n">x</span><span class="p">)</span>

    <span class="ow">gopast</span> <span class="n">v</span>  <span class="ow">gopast</span> <span class="ow">non-</span><span class="n">v</span>  <span class="ow">setmark</span> <span class="n">p1</span>
    <span class="ow">try</span><span class="p">(</span><span class="o">$</span><span class="n">p1</span> <span class="o">&lt;</span> <span class="n">x</span>  <span class="o">$</span><span class="n">p1</span> <span class="o">=</span> <span class="n">x</span><span class="p">)</span>  <span class="c1">// at least 3</span>
    <span class="ow">gopast</span> <span class="n">v</span>  <span class="ow">gopast</span> <span class="ow">non-</span><span class="n">v</span>  <span class="ow">setmark</span> <span class="n">p2</span>

<span class="p">)</span>

<span class="kd">define</span> <span class="n">postlude</span> <span class="k">as</span> <span class="ow">repeat</span> <span class="p">(</span>

    <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>
        <span class="s">&#39;Y&#39;</span>    <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;y&#39;</span><span class="p">)</span>
        <span class="s">&#39;U&#39;</span>    <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;u&#39;</span><span class="p">)</span>
        <span class="s">&#39;{a&quot;}&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;a&#39;</span><span class="p">)</span>
        <span class="s">&#39;{o&quot;}&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;o&#39;</span><span class="p">)</span>
        <span class="s">&#39;{u&quot;}&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;u&#39;</span><span class="p">)</span>
        <span class="s">&#39;&#39;</span>     <span class="p">(</span><span class="ow">next</span><span class="p">)</span>
    <span class="p">)</span>

<span class="p">)</span>

<span class="kd">backwardmode</span> <span class="p">(</span>

    <span class="kd">define</span> <span class="n">R1</span> <span class="k">as</span> <span class="o">$</span><span class="n">p1</span> <span class="o">&lt;=</span> <span class="ow">cursor</span>
    <span class="kd">define</span> <span class="n">R2</span> <span class="k">as</span> <span class="o">$</span><span class="n">p2</span> <span class="o">&lt;=</span> <span class="ow">cursor</span>

    <span class="kd">define</span> <span class="n">standard_suffix</span> <span class="k">as</span> <span class="p">(</span>
        <span class="ow">do</span> <span class="p">(</span>
            <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="n">R1</span> <span class="k">among</span><span class="p">(</span>
                <span class="s">&#39;em&#39;</span> <span class="s">&#39;ern&#39;</span> <span class="s">&#39;er&#39;</span>
                <span class="p">(</span>   <span class="ow">delete</span>
                <span class="p">)</span>
                <span class="s">&#39;e&#39;</span> <span class="s">&#39;en&#39;</span> <span class="s">&#39;es&#39;</span>
                <span class="p">(</span>   <span class="ow">delete</span>
                    <span class="ow">try</span> <span class="p">([</span><span class="s">&#39;s&#39;</span><span class="p">]</span> <span class="s">&#39;nis&#39;</span> <span class="ow">delete</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="s">&#39;s&#39;</span>
                <span class="p">(</span>   <span class="n">s_ending</span> <span class="ow">delete</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="ow">do</span> <span class="p">(</span>
            <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="n">R1</span> <span class="k">among</span><span class="p">(</span>
                <span class="s">&#39;en&#39;</span> <span class="s">&#39;er&#39;</span> <span class="s">&#39;est&#39;</span>
                <span class="p">(</span>   <span class="ow">delete</span>
                <span class="p">)</span>
                <span class="s">&#39;st&#39;</span>
                <span class="p">(</span>   <span class="n">st_ending</span> <span class="ow">hop</span> <span class="m">3</span> <span class="ow">delete</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="ow">do</span> <span class="p">(</span>
            <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="n">R2</span> <span class="k">among</span><span class="p">(</span>
                <span class="s">&#39;end&#39;</span> <span class="s">&#39;ung&#39;</span>
                <span class="p">(</span>   <span class="ow">delete</span>
                    <span class="ow">try</span> <span class="p">([</span><span class="s">&#39;ig&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="s">&#39;e&#39;</span> <span class="n">R2</span> <span class="ow">delete</span><span class="p">)</span>
                <span class="p">)</span>
                <span class="s">&#39;ig&#39;</span> <span class="s">&#39;ik&#39;</span> <span class="s">&#39;isch&#39;</span>
                <span class="p">(</span>   <span class="ow">not</span> <span class="s">&#39;e&#39;</span> <span class="ow">delete</span>
                <span class="p">)</span>
                <span class="s">&#39;lich&#39;</span> <span class="s">&#39;heit&#39;</span>
                <span class="p">(</span>   <span class="ow">delete</span>
                    <span class="ow">try</span> <span class="p">(</span>
                        <span class="p">[</span><span class="s">&#39;er&#39;</span> <span class="ow">or</span> <span class="s">&#39;en&#39;</span><span class="p">]</span> <span class="n">R1</span> <span class="ow">delete</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="s">&#39;keit&#39;</span>
                <span class="p">(</span>   <span class="ow">delete</span>
                    <span class="ow">try</span> <span class="p">(</span>
                        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="n">R2</span> <span class="k">among</span><span class="p">(</span>
                            <span class="s">&#39;lich&#39;</span> <span class="s">&#39;ig&#39;</span>
                            <span class="p">(</span>   <span class="ow">delete</span>
                            <span class="p">)</span>
                        <span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">stem</span> <span class="k">as</span> <span class="p">(</span>
    <span class="ow">do</span> <span class="n">prelude</span>
    <span class="ow">do</span> <span class="n">mark_regions</span>
    <span class="ow">backwards</span>
        <span class="ow">do</span> <span class="n">standard_suffix</span>
    <span class="ow">do</span> <span class="n">postlude</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-md-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://cdn.jsdelivr.net/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  </body>
</html>

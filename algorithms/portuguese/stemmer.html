<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Portuguese stemming algorithm</title>
    <link href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <h1>Portuguese stemming algorithm</h1>

    <!-- Static navbar removed for now-->

    <div class="container">
      <div class="row">
        <div class="col-md-2">
          <!--$menu-->
        </div>
        <div class="col-md-10">

<h2>Links to resources</h2>

<ul>
<li> <A HREF="../.."> Snowball main page</A>
<li> <A HREF="../../texts/romance.html"> Romance language stemmers</A>
<li> <A HREF="stem_ISO_8859_1.sbl">    The stemmer in Snowball</A>
<li> <A HREF="stem.c">      The ANSI C stemmer</A>
<li> <A HREF="stem.h">      &#x2014; and its header</A>
<li> <A HREF="voc.txt">     Sample Portuguese vocabulary</A>
<li> <A HREF="output.txt">  Its stemmed equivalent</A>
<li> <A HREF="tarball.tgz"> Tar-gzipped file of all of the above</A>
<li> <A HREF="stop.txt">    Portuguese stop word list</A>
</ul>

<div style="background-color:lightpink">
<p>
Here is a sample of Portuguese vocabulary, with the stemmed forms that will
be generated with this algorithm.
</p>

<DL><DD><TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
boa<BR>
boainain<BR>
boas<BR>
bôas<BR>
boassu<BR>
boataria<BR>
boate<BR>
boates<BR>
boatos<BR>
bob<BR>
boba<BR>
bobagem<BR>
bobagens<BR>
bobalhões<BR>
bobear<BR>
bobeira<BR>
bobinho<BR>
bobinhos<BR>
bobo<BR>
bobs<BR>
boca<BR>
bocadas<BR>
bocadinho<BR>
bocado<BR>
bocaiúva<BR>
boçal<BR>
bocarra<BR>
bocas<BR>
bode<BR>
bodoque<BR>
body<BR>
boeing<BR>
boem<BR>
boemia<BR>
boêmio<BR>
boêmios<BR>
bogotá<BR>
boi<BR>
bóia<BR>
boiando<BR>
</TD>
<TD></TD><TD> &nbsp;<code><B> =&gt; </B></code>&nbsp; </TD>
<TD></TD><TD>
boa<BR>
boainain<BR>
boas<BR>
bôas<BR>
boassu<BR>
boat<BR>
boat<BR>
boat<BR>
boat<BR>
bob<BR>
bob<BR>
bobag<BR>
bobagens<BR>
bobalhõ<BR>
bob<BR>
bobeir<BR>
bobinh<BR>
bobinh<BR>
bob<BR>
bobs<BR>
boc<BR>
boc<BR>
bocadinh<BR>
boc<BR>
bocaiúv<BR>
boçal<BR>
bocarr<BR>
boc<BR>
bod<BR>
bodoqu<BR>
body<BR>
boeing<BR>
boem<BR>
boem<BR>
boêmi<BR>
boêmi<BR>
bogot<BR>
boi<BR>
bói<BR>
boi<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
quiabo<BR>
quicaram<BR>
quickly<BR>
quieto<BR>
quietos<BR>
quilate<BR>
quilates<BR>
quilinhos<BR>
quilo<BR>
quilombo<BR>
quilométricas<BR>
quilométricos<BR>
quilômetro<BR>
quilômetros<BR>
quilos<BR>
química<BR>
químicas<BR>
químico<BR>
químicos<BR>
quimioterapia<BR>
quimioterápicos<BR>
quimono<BR>
quincas<BR>
quinhão<BR>
quinhentos<BR>
quinn<BR>
quino<BR>
quinta<BR>
quintal<BR>
quintana<BR>
quintanilha<BR>
quintão<BR>
quintessência<BR>
quintino<BR>
quinto<BR>
quintos<BR>
quintuplicou<BR>
quinze<BR>
quinzena<BR>
quiosque<BR>
</TD>
<TD></TD><TD> &nbsp;<code><B> =&gt; </B></code>&nbsp; </TD>
<TD></TD><TD>
quiab<BR>
quic<BR>
quickly<BR>
quiet<BR>
quiet<BR>
quilat<BR>
quilat<BR>
quilinh<BR>
quil<BR>
quilomb<BR>
quilométr<BR>
quilométr<BR>
quilômetr<BR>
quilômetr<BR>
quil<BR>
químic<BR>
químic<BR>
químic<BR>
químic<BR>
quimioterap<BR>
quimioteráp<BR>
quimon<BR>
quinc<BR>
quinhã<BR>
quinhent<BR>
quinn<BR>
quin<BR>
quint<BR>
quintal<BR>
quintan<BR>
quintanilh<BR>
quintã<BR>
quintessent<BR>
quintin<BR>
quint<BR>
quint<BR>
quintuplic<BR>
quinz<BR>
quinzen<BR>
quiosqu<BR>
</TD>
</TR>
</TABLE></DL>
</div>

<h2>The stemming algorithm</h2>

<p>
Letters in Portuguese include the following accented forms,
</p>

<DL><DD>
    <B><I>á  &nbsp;  é  &nbsp;  í  &nbsp;  ó  &nbsp;  ú  &nbsp;  â  &nbsp;  ê  &nbsp;  ô  &nbsp;  ç  &nbsp;  ã  &nbsp;  õ  &nbsp;  ü</I></B>
</DL>
The following letters are vowels:
<DL><DD>
    <B><I>a  &nbsp;  e  &nbsp;  i  &nbsp;  o  &nbsp;  u  &nbsp;  á  &nbsp;  é  &nbsp;  í  &nbsp;  ó  &nbsp;  ú  &nbsp;  â  &nbsp;  ê  &nbsp;  ô</I></B>
</DL>
And the two nasalised vowel forms,
<DL><DD>
    <B><I>ã  &nbsp;  õ</I></B>
</DL>

<p>
should be treated as a vowel followed by a consonant.
</p>

<p>
<B><I>ã</I></B> and <B><I>õ</I></B> are therefore replaced by <B><I>a~</I></B> and <B><I>o~</I></B> in the word, where <B><I>~</I></B> is a
separate character to be treated as a consonant. And then &#x2014;
</p>

<p>
<I>R</I>2
(see the <A HREF="../../texts/r1r2.html"> note</A> on <I>R</I>1 and <I>R</I>2)
and <I>RV</I> have the same definition as in the
 <A HREF="../spanish/stemmer.html">Spanish stemmer</A>.
</p>

<p>
Always do step 1.
</p>

<p>
Step 1: Standard suffix removal
</p>

<DL><DD>
    Search for the longest among the following suffixes, and perform the
    action indicated.
<DL>
    <DT><B><I>eza  &nbsp;  ezas  &nbsp;  ico  &nbsp;  ica  &nbsp;  icos  &nbsp;  icas  &nbsp;  ismo  &nbsp;  ismos  &nbsp;
    ável  &nbsp;  ível  &nbsp;  ista  &nbsp;  istas  &nbsp;  oso  &nbsp;  osa  &nbsp;
    osos  &nbsp;  osas  &nbsp;  amento  &nbsp;  amentos  &nbsp;  imento  &nbsp;  imentos  &nbsp;
    adora  &nbsp;  ador  &nbsp;  aça~o  &nbsp;  adoras  &nbsp;  adores  &nbsp;  aço~es  &nbsp;
    ante  &nbsp;  antes  &nbsp;  ância</I></B>
        <DD>delete if in <I>R</I>2
    <DT><B><I>logia  &nbsp;  logias</I></B>
        <DD>replace with <B><I>log</I></B> if in <I>R</I>2
    <DT><B><I>ução  &nbsp;  uções</I></B>
        <DD>replace with <B><I>u</I></B> if in <I>R</I>2
    <DT><B><I>ência  &nbsp;  ências</I></B>
        <DD>replace with <B><I>ente</I></B> if in <I>R</I>2
    <DT><B><I>amente</I></B>
        <DD>delete if in <I>R</I>1
        <DD>if preceded by <B><I>iv</I></B>, delete if in <I>R</I>2 (and if further preceded by <B><I>at</I></B>,
        delete if in <I>R</I>2), otherwise,
        <DD>if preceded by <B><I>os</I></B>, <B><I>ic</I></B> or <B><I>ad</I></B>, delete if in <I>R</I>2
    <DT><B><I>mente</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>ante</I></B>, <B><I>avel</I></B> or <B><I>ível</I></B>, delete if in <I>R</I>2
    <DT><B><I>idade  &nbsp;  idades</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>abil</I></B>, <B><I>ic</I></B> or <B><I>iv</I></B>, delete if in <I>R</I>2
    <DT><B><I>iva  &nbsp;  ivo  &nbsp;  ivas  &nbsp;  ivos</I></B>
        <DD>delete if in <I>R</I>2
        <DD>if preceded by <B><I>at</I></B>, delete if in <I>R</I>2
    <DT><B><I>ira  &nbsp;  iras</I></B>
        <DD>replace with <B><I>ir</I></B> if in <I>RV</I> and preceded by <B><I>e</I></B>
</DL>
</DL>

<p>
Do step 2 if no ending was removed by step 1.
</p>

<p>
Step 2: Verb suffixes
</p>

<DL><DD>
    Search for the longest among the following suffixes in <I>RV</I>, and if found,
    delete.
    <DL><DD>
        <B><I>ada  &nbsp;  ida  &nbsp;  ia  &nbsp;  aria  &nbsp;  eria  &nbsp;  iria  &nbsp;  ará  &nbsp;  ara  &nbsp;  erá  &nbsp;  era  &nbsp;  irá  &nbsp;  ava  &nbsp;  asse  &nbsp;  esse
         &nbsp;  isse  &nbsp;  aste  &nbsp;  este  &nbsp;  iste  &nbsp;  ei  &nbsp;  arei  &nbsp;  erei  &nbsp;  irei  &nbsp;  am  &nbsp;  iam  &nbsp;  ariam  &nbsp;  eriam  &nbsp;  iriam
         &nbsp;  aram  &nbsp;  eram  &nbsp;  iram  &nbsp;  avam  &nbsp;  em  &nbsp;  arem  &nbsp;  erem  &nbsp;  irem  &nbsp;  assem  &nbsp;  essem  &nbsp;  issem  &nbsp;  ado  &nbsp;  ido
         &nbsp;  ando  &nbsp;  endo  &nbsp;  indo  &nbsp;  ara~o  &nbsp;  era~o  &nbsp;  ira~o  &nbsp;  ar  &nbsp;  er  &nbsp;  ir  &nbsp;  as  &nbsp;  adas  &nbsp;  idas  &nbsp;  ias  &nbsp;  arias
         &nbsp;  erias  &nbsp;  irias  &nbsp;  arás  &nbsp;  aras  &nbsp;  erás  &nbsp;  eras  &nbsp;  irás  &nbsp;  avas  &nbsp;  es  &nbsp;  ardes  &nbsp;  erdes
         &nbsp;  irdes  &nbsp;  ares  &nbsp;  eres  &nbsp;  ires  &nbsp;  asses  &nbsp;  esses  &nbsp;  isses  &nbsp;  astes  &nbsp;  estes  &nbsp;  istes  &nbsp;  is  &nbsp;  ais
         &nbsp;  eis  &nbsp;  íeis  &nbsp;  aríeis  &nbsp;  eríeis  &nbsp;  iríeis  &nbsp;  áreis  &nbsp;  areis  &nbsp;  éreis  &nbsp;  ereis
         &nbsp;  íreis  &nbsp;  ireis  &nbsp;  ásseis  &nbsp;  ésseis  &nbsp;  ísseis  &nbsp;  áveis  &nbsp;  ados  &nbsp;  idos  &nbsp;  ámos
         &nbsp;  amos  &nbsp;  íamos  &nbsp;  aríamos  &nbsp;  eríamos  &nbsp;  iríamos  &nbsp;  áramos  &nbsp;  éramos
         &nbsp;  íramos  &nbsp;  ávamos  &nbsp;  emos  &nbsp;  aremos  &nbsp;  eremos  &nbsp;  iremos  &nbsp;  ássemos  &nbsp;  êssemos
         &nbsp;  íssemos  &nbsp;  imos  &nbsp;  armos  &nbsp;  ermos  &nbsp;  irmos  &nbsp;  eu  &nbsp;  iu  &nbsp;  ou  &nbsp;  ira  &nbsp;
        iras</I></B>
</DL><BR>
If the last step to be obeyed &#x2014; either step 1 or 2 &#x2014; altered the word,
do step 3
</DL>
Step 3
<DL><DD>
    Delete suffix <B><I>i</I></B> if in <I>RV</I> and preceded by <B><I>c</I></B>
</DL>

<p>
Alternatively, if neither steps 1 nor 2 altered the word, do step 4
</p>

<p>
Step 4: Residual suffix
</p>

<DL><DD>
    If the word ends with one of the suffixes
    <DL><DD>
        <B><I>os  &nbsp;  a  &nbsp;  i  &nbsp;  o  &nbsp;  á  &nbsp;  í  &nbsp;  ó</I></B>
</DL><BR>
    in <I>RV</I>, delete it
</DL>

<p>
Always do step 5
</p>

<p>
Step 5:
</p>

<DL><DD>
    <p>
    If the word ends with one of
    </p>
    <DL><DD>
        <B><I>e  &nbsp;  é  &nbsp;  ê</I></B>
    </DL>
    <p>
    in <I>RV</I>, delete it, and if preceded by <B><I>gu</I></B> (or <B><I>ci</I></B>) with the <B><I>u</I></B> (or <B><I>i</I></B>) in <I>RV</I>,
    delete the <B><I>u</I></B> (or <B><I>i</I></B>).
    </p>

    <p>
    Or if the word ends <B><I>ç</I></B> remove the cedilla
    </p>
</DL>

<p>
And finally:
</p>

<DL><DD>
    Turn <B><I>a~</I></B>, <B><I>o~</I></B> back into <B><I>ã</I></B>, <B><I>õ</I></B>
</DL>

<h2>The same algorithm in Snowball</h2>

<div class="highlight"><pre><span class="kd">routines</span> <span class="p">(</span>
           <span class="n">prelude</span> <span class="n">postlude</span> <span class="n">mark_regions</span>
           <span class="n">RV</span> <span class="n">R1</span> <span class="n">R2</span>
           <span class="n">standard_suffix</span>
           <span class="n">verb_suffix</span>
           <span class="n">residual_suffix</span>
           <span class="n">residual_form</span>
<span class="p">)</span>

<span class="kd">externals</span> <span class="p">(</span> <span class="n">stem</span> <span class="p">)</span>

<span class="kd">integers</span> <span class="p">(</span> <span class="n">pV</span> <span class="n">p1</span> <span class="n">p2</span> <span class="p">)</span>

<span class="kd">groupings</span> <span class="p">(</span> <span class="n">v</span> <span class="p">)</span>

<span class="kd">stringescapes</span> <span class="p">{}</span>

<span class="cm">/* special characters (in ISO Latin I) */</span>

<span class="kd">stringdef</span> <span class="n">a&#39;</span>   <span class="mh">hex</span> <span class="s">&#39;E1&#39;</span>  <span class="c1">// a-acute</span>
<span class="kd">stringdef</span> <span class="n">a^</span>   <span class="mh">hex</span> <span class="s">&#39;E2&#39;</span>  <span class="c1">// a-circumflex e.g. &#39;bota^nico</span>
<span class="kd">stringdef</span> <span class="n">e&#39;</span>   <span class="mh">hex</span> <span class="s">&#39;E9&#39;</span>  <span class="c1">// e-acute</span>
<span class="kd">stringdef</span> <span class="n">e^</span>   <span class="mh">hex</span> <span class="s">&#39;EA&#39;</span>  <span class="c1">// e-circumflex</span>
<span class="kd">stringdef</span> <span class="n">i&#39;</span>   <span class="mh">hex</span> <span class="s">&#39;ED&#39;</span>  <span class="c1">// i-acute</span>
<span class="kd">stringdef</span> <span class="n">o^</span>   <span class="mh">hex</span> <span class="s">&#39;F4&#39;</span>  <span class="c1">// o-circumflex</span>
<span class="kd">stringdef</span> <span class="n">o&#39;</span>   <span class="mh">hex</span> <span class="s">&#39;F3&#39;</span>  <span class="c1">// o-acute</span>
<span class="kd">stringdef</span> <span class="n">u&#39;</span>   <span class="mh">hex</span> <span class="s">&#39;FA&#39;</span>  <span class="c1">// u-acute</span>
<span class="kd">stringdef</span> <span class="n">c,</span>   <span class="mh">hex</span> <span class="s">&#39;E7&#39;</span>  <span class="c1">// c-cedilla</span>

<span class="kd">stringdef</span> <span class="n">a~</span>   <span class="mh">hex</span> <span class="s">&#39;E3&#39;</span>  <span class="c1">// a-tilde</span>
<span class="kd">stringdef</span> <span class="n">o~</span>   <span class="mh">hex</span> <span class="s">&#39;F5&#39;</span>  <span class="c1">// o-tilde</span>


<span class="kd">define</span> <span class="n">v</span> <span class="s">&#39;aeiou{a&#39;}{e&#39;}{i&#39;}{o&#39;}{u&#39;}{a^}{e^}{o^}&#39;</span>

<span class="kd">define</span> <span class="n">prelude</span> <span class="k">as</span> <span class="ow">repeat</span> <span class="p">(</span>
    <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>
        <span class="s">&#39;{a~}&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;a~&#39;</span><span class="p">)</span>
        <span class="s">&#39;{o~}&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;o~&#39;</span><span class="p">)</span>
        <span class="s">&#39;&#39;</span>     <span class="p">(</span><span class="ow">next</span><span class="p">)</span>
    <span class="p">)</span> <span class="c1">//or next</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">mark_regions</span> <span class="k">as</span> <span class="p">(</span>

    <span class="o">$</span><span class="n">pV</span> <span class="o">=</span> <span class="ow">limit</span>
    <span class="o">$</span><span class="n">p1</span> <span class="o">=</span> <span class="ow">limit</span>
    <span class="o">$</span><span class="n">p2</span> <span class="o">=</span> <span class="ow">limit</span>  <span class="c1">// defaults</span>

    <span class="ow">do</span> <span class="p">(</span>
        <span class="p">(</span> <span class="n">v</span> <span class="p">(</span><span class="ow">non-</span><span class="n">v</span> <span class="ow">gopast</span> <span class="n">v</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">v</span> <span class="ow">gopast</span> <span class="ow">non-</span><span class="n">v</span><span class="p">)</span> <span class="p">)</span>
        <span class="ow">or</span>
        <span class="p">(</span> <span class="ow">non-</span><span class="n">v</span> <span class="p">(</span><span class="ow">non-</span><span class="n">v</span> <span class="ow">gopast</span> <span class="n">v</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">v</span> <span class="ow">next</span><span class="p">)</span> <span class="p">)</span>
        <span class="ow">setmark</span> <span class="n">pV</span>
    <span class="p">)</span>
    <span class="ow">do</span> <span class="p">(</span>
        <span class="ow">gopast</span> <span class="n">v</span> <span class="ow">gopast</span> <span class="ow">non-</span><span class="n">v</span> <span class="ow">setmark</span> <span class="n">p1</span>
        <span class="ow">gopast</span> <span class="n">v</span> <span class="ow">gopast</span> <span class="ow">non-</span><span class="n">v</span> <span class="ow">setmark</span> <span class="n">p2</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">postlude</span> <span class="k">as</span> <span class="ow">repeat</span> <span class="p">(</span>
    <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>
        <span class="s">&#39;a~&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;{a~}&#39;</span><span class="p">)</span>
        <span class="s">&#39;o~&#39;</span> <span class="p">(</span><span class="o">&lt;-</span> <span class="s">&#39;{o~}&#39;</span><span class="p">)</span>
        <span class="s">&#39;&#39;</span>   <span class="p">(</span><span class="ow">next</span><span class="p">)</span>
    <span class="p">)</span> <span class="c1">//or next</span>
<span class="p">)</span>

<span class="kd">backwardmode</span> <span class="p">(</span>

    <span class="kd">define</span> <span class="n">RV</span> <span class="k">as</span> <span class="o">$</span><span class="n">pV</span> <span class="o">&lt;=</span> <span class="ow">cursor</span>
    <span class="kd">define</span> <span class="n">R1</span> <span class="k">as</span> <span class="o">$</span><span class="n">p1</span> <span class="o">&lt;=</span> <span class="ow">cursor</span>
    <span class="kd">define</span> <span class="n">R2</span> <span class="k">as</span> <span class="o">$</span><span class="n">p2</span> <span class="o">&lt;=</span> <span class="ow">cursor</span>

    <span class="kd">define</span> <span class="n">standard_suffix</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>

            <span class="s">&#39;eza&#39;</span> <span class="s">&#39;ezas&#39;</span>
            <span class="s">&#39;ico&#39;</span> <span class="s">&#39;ica&#39;</span> <span class="s">&#39;icos&#39;</span> <span class="s">&#39;icas&#39;</span>
            <span class="s">&#39;ismo&#39;</span> <span class="s">&#39;ismos&#39;</span>
            <span class="s">&#39;{a&#39;}vel&#39;</span>
            <span class="s">&#39;{i&#39;}vel&#39;</span>
            <span class="s">&#39;ista&#39;</span> <span class="s">&#39;istas&#39;</span>
            <span class="s">&#39;oso&#39;</span> <span class="s">&#39;osa&#39;</span> <span class="s">&#39;osos&#39;</span> <span class="s">&#39;osas&#39;</span>
            <span class="s">&#39;amento&#39;</span> <span class="s">&#39;amentos&#39;</span>
            <span class="s">&#39;imento&#39;</span> <span class="s">&#39;imentos&#39;</span>

           <span class="s">&#39;adora&#39;</span> <span class="s">&#39;ador&#39;</span> <span class="s">&#39;a{c,}a~o&#39;</span>
           <span class="s">&#39;adoras&#39;</span> <span class="s">&#39;adores&#39;</span> <span class="s">&#39;a{c,}o~es&#39;</span>  <span class="c1">// no -ic test</span>
           <span class="s">&#39;ante&#39;</span> <span class="s">&#39;antes&#39;</span> <span class="s">&#39;{a^}ncia&#39;</span> <span class="c1">// Note 1</span>
            <span class="p">(</span>
                <span class="n">R2</span> <span class="ow">delete</span>
            <span class="p">)</span>
            <span class="s">&#39;logia&#39;</span>
            <span class="s">&#39;logias&#39;</span>
            <span class="p">(</span>
                <span class="n">R2</span> <span class="o">&lt;-</span> <span class="s">&#39;log&#39;</span>
            <span class="p">)</span>
            <span class="s">&#39;u{c,}a~o&#39;</span> <span class="s">&#39;u{c,}o~es&#39;</span>
            <span class="p">(</span>
                <span class="n">R2</span> <span class="o">&lt;-</span> <span class="s">&#39;u&#39;</span>
            <span class="p">)</span>
            <span class="s">&#39;{e^}ncia&#39;</span> <span class="s">&#39;{e^}ncias&#39;</span>
            <span class="p">(</span>
                <span class="n">R2</span> <span class="o">&lt;-</span> <span class="s">&#39;ente&#39;</span>
            <span class="p">)</span>
            <span class="s">&#39;amente&#39;</span>
            <span class="p">(</span>
                <span class="n">R1</span> <span class="ow">delete</span>
                <span class="ow">try</span> <span class="p">(</span>
                    <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="n">R2</span> <span class="ow">delete</span> <span class="k">among</span><span class="p">(</span>
                        <span class="s">&#39;iv&#39;</span> <span class="p">([</span><span class="s">&#39;at&#39;</span><span class="p">]</span> <span class="n">R2</span> <span class="ow">delete</span><span class="p">)</span>
                        <span class="s">&#39;os&#39;</span>
                        <span class="s">&#39;ic&#39;</span>
                        <span class="s">&#39;ad&#39;</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="s">&#39;mente&#39;</span>
            <span class="p">(</span>
                <span class="n">R2</span> <span class="ow">delete</span>
                <span class="ow">try</span> <span class="p">(</span>
                    <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>
                        <span class="s">&#39;ante&#39;</span> <span class="c1">// Note 1</span>
                        <span class="s">&#39;avel&#39;</span>
                        <span class="s">&#39;{i&#39;}vel&#39;</span> <span class="p">(</span><span class="n">R2</span> <span class="ow">delete</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="s">&#39;idade&#39;</span>
            <span class="s">&#39;idades&#39;</span>
            <span class="p">(</span>
                <span class="n">R2</span> <span class="ow">delete</span>
                <span class="ow">try</span> <span class="p">(</span>
                    <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>
                        <span class="s">&#39;abil&#39;</span>
                        <span class="s">&#39;ic&#39;</span>
                        <span class="s">&#39;iv&#39;</span>   <span class="p">(</span><span class="n">R2</span> <span class="ow">delete</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="s">&#39;iva&#39;</span> <span class="s">&#39;ivo&#39;</span>
            <span class="s">&#39;ivas&#39;</span> <span class="s">&#39;ivos&#39;</span>
            <span class="p">(</span>
                <span class="n">R2</span> <span class="ow">delete</span>
                <span class="ow">try</span> <span class="p">(</span>
                    <span class="p">[</span><span class="s">&#39;at&#39;</span><span class="p">]</span> <span class="n">R2</span> <span class="ow">delete</span> <span class="c1">// but not a further   [&#39;ic&#39;] R2 delete</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="s">&#39;ira&#39;</span> <span class="s">&#39;iras&#39;</span>
            <span class="p">(</span>
                <span class="n">RV</span> <span class="s">&#39;e&#39;</span>  <span class="c1">// -eira -eiras usually non-verbal</span>
                <span class="o">&lt;-</span> <span class="s">&#39;ir&#39;</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">verb_suffix</span> <span class="k">as</span> <span class="ow">setlimit</span> <span class="ow">tomark</span> <span class="n">pV</span> <span class="k">for</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>
            <span class="s">&#39;ada&#39;</span> <span class="s">&#39;ida&#39;</span> <span class="s">&#39;ia&#39;</span> <span class="s">&#39;aria&#39;</span> <span class="s">&#39;eria&#39;</span> <span class="s">&#39;iria&#39;</span> <span class="s">&#39;ar{a&#39;}&#39;</span> <span class="s">&#39;ara&#39;</span> <span class="s">&#39;er{a&#39;}&#39;</span>
            <span class="s">&#39;era&#39;</span> <span class="s">&#39;ir{a&#39;}&#39;</span> <span class="s">&#39;ava&#39;</span> <span class="s">&#39;asse&#39;</span> <span class="s">&#39;esse&#39;</span> <span class="s">&#39;isse&#39;</span> <span class="s">&#39;aste&#39;</span> <span class="s">&#39;este&#39;</span> <span class="s">&#39;iste&#39;</span>
            <span class="s">&#39;ei&#39;</span> <span class="s">&#39;arei&#39;</span> <span class="s">&#39;erei&#39;</span> <span class="s">&#39;irei&#39;</span> <span class="s">&#39;am&#39;</span> <span class="s">&#39;iam&#39;</span> <span class="s">&#39;ariam&#39;</span> <span class="s">&#39;eriam&#39;</span> <span class="s">&#39;iriam&#39;</span>
            <span class="s">&#39;aram&#39;</span> <span class="s">&#39;eram&#39;</span> <span class="s">&#39;iram&#39;</span> <span class="s">&#39;avam&#39;</span> <span class="s">&#39;em&#39;</span> <span class="s">&#39;arem&#39;</span> <span class="s">&#39;erem&#39;</span> <span class="s">&#39;irem&#39;</span> <span class="s">&#39;assem&#39;</span>
            <span class="s">&#39;essem&#39;</span> <span class="s">&#39;issem&#39;</span> <span class="s">&#39;ado&#39;</span> <span class="s">&#39;ido&#39;</span> <span class="s">&#39;ando&#39;</span> <span class="s">&#39;endo&#39;</span> <span class="s">&#39;indo&#39;</span> <span class="s">&#39;ara~o&#39;</span>
            <span class="s">&#39;era~o&#39;</span> <span class="s">&#39;ira~o&#39;</span> <span class="s">&#39;ar&#39;</span> <span class="s">&#39;er&#39;</span> <span class="s">&#39;ir&#39;</span> <span class="s">&#39;as&#39;</span> <span class="s">&#39;adas&#39;</span> <span class="s">&#39;idas&#39;</span> <span class="s">&#39;ias&#39;</span>
            <span class="s">&#39;arias&#39;</span> <span class="s">&#39;erias&#39;</span> <span class="s">&#39;irias&#39;</span> <span class="s">&#39;ar{a&#39;}s&#39;</span> <span class="s">&#39;aras&#39;</span> <span class="s">&#39;er{a&#39;}s&#39;</span> <span class="s">&#39;eras&#39;</span>
            <span class="s">&#39;ir{a&#39;}s&#39;</span> <span class="s">&#39;avas&#39;</span> <span class="s">&#39;es&#39;</span> <span class="s">&#39;ardes&#39;</span> <span class="s">&#39;erdes&#39;</span> <span class="s">&#39;irdes&#39;</span> <span class="s">&#39;ares&#39;</span> <span class="s">&#39;eres&#39;</span>
            <span class="s">&#39;ires&#39;</span> <span class="s">&#39;asses&#39;</span> <span class="s">&#39;esses&#39;</span> <span class="s">&#39;isses&#39;</span> <span class="s">&#39;astes&#39;</span> <span class="s">&#39;estes&#39;</span> <span class="s">&#39;istes&#39;</span> <span class="s">&#39;is&#39;</span>
            <span class="s">&#39;ais&#39;</span> <span class="s">&#39;eis&#39;</span> <span class="s">&#39;{i&#39;}eis&#39;</span> <span class="s">&#39;ar{i&#39;}eis&#39;</span> <span class="s">&#39;er{i&#39;}eis&#39;</span> <span class="s">&#39;ir{i&#39;}eis&#39;</span>
            <span class="s">&#39;{a&#39;}reis&#39;</span> <span class="s">&#39;areis&#39;</span> <span class="s">&#39;{e&#39;}reis&#39;</span> <span class="s">&#39;ereis&#39;</span> <span class="s">&#39;{i&#39;}reis&#39;</span> <span class="s">&#39;ireis&#39;</span>
            <span class="s">&#39;{a&#39;}sseis&#39;</span> <span class="s">&#39;{e&#39;}sseis&#39;</span> <span class="s">&#39;{i&#39;}sseis&#39;</span> <span class="s">&#39;{a&#39;}veis&#39;</span> <span class="s">&#39;ados&#39;</span> <span class="s">&#39;idos&#39;</span>
            <span class="s">&#39;{a&#39;}mos&#39;</span> <span class="s">&#39;amos&#39;</span> <span class="s">&#39;{i&#39;}amos&#39;</span> <span class="s">&#39;ar{i&#39;}amos&#39;</span> <span class="s">&#39;er{i&#39;}amos&#39;</span>
            <span class="s">&#39;ir{i&#39;}amos&#39;</span> <span class="s">&#39;{a&#39;}ramos&#39;</span> <span class="s">&#39;{e&#39;}ramos&#39;</span> <span class="s">&#39;{i&#39;}ramos&#39;</span> <span class="s">&#39;{a&#39;}vamos&#39;</span>
            <span class="s">&#39;emos&#39;</span> <span class="s">&#39;aremos&#39;</span> <span class="s">&#39;eremos&#39;</span> <span class="s">&#39;iremos&#39;</span> <span class="s">&#39;{a&#39;}ssemos&#39;</span> <span class="s">&#39;{e^}ssemos&#39;</span>
            <span class="s">&#39;{i&#39;}ssemos&#39;</span> <span class="s">&#39;imos&#39;</span> <span class="s">&#39;armos&#39;</span> <span class="s">&#39;ermos&#39;</span> <span class="s">&#39;irmos&#39;</span> <span class="s">&#39;eu&#39;</span> <span class="s">&#39;iu&#39;</span> <span class="s">&#39;ou&#39;</span>

            <span class="s">&#39;ira&#39;</span> <span class="s">&#39;iras&#39;</span>
                <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">residual_suffix</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>
            <span class="s">&#39;os&#39;</span>
            <span class="s">&#39;a&#39;</span> <span class="s">&#39;i&#39;</span> <span class="s">&#39;o&#39;</span> <span class="s">&#39;{a&#39;}&#39;</span> <span class="s">&#39;{i&#39;}&#39;</span> <span class="s">&#39;{o&#39;}&#39;</span>
                <span class="p">(</span> <span class="n">RV</span> <span class="ow">delete</span> <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">residual_form</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span><span class="p">(</span>
            <span class="s">&#39;e&#39;</span> <span class="s">&#39;{e&#39;}&#39;</span> <span class="s">&#39;{e^}&#39;</span>
                <span class="p">(</span> <span class="n">RV</span> <span class="ow">delete</span> <span class="p">[(</span><span class="s">&#39;u&#39;</span><span class="p">]</span> <span class="ow">test</span> <span class="s">&#39;g&#39;</span><span class="p">)</span> <span class="ow">or</span>
                             <span class="p">(</span><span class="s">&#39;i&#39;</span><span class="p">]</span> <span class="ow">test</span> <span class="s">&#39;c&#39;</span><span class="p">)</span> <span class="n">RV</span> <span class="ow">delete</span> <span class="p">)</span>
            <span class="s">&#39;{c,}&#39;</span> <span class="p">(</span><span class="o">&lt;-</span><span class="s">&#39;c&#39;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">stem</span> <span class="k">as</span> <span class="p">(</span>
    <span class="ow">do</span> <span class="n">prelude</span>
    <span class="ow">do</span> <span class="n">mark_regions</span>
    <span class="ow">backwards</span> <span class="p">(</span>
        <span class="ow">do</span> <span class="p">(</span>
            <span class="p">(</span> <span class="p">(</span> <span class="n">standard_suffix</span> <span class="ow">or</span> <span class="n">verb_suffix</span> <span class="p">)</span>
              <span class="ow">and</span> <span class="ow">do</span> <span class="p">(</span> <span class="p">[</span><span class="s">&#39;i&#39;</span><span class="p">]</span> <span class="ow">test</span> <span class="s">&#39;c&#39;</span> <span class="n">RV</span> <span class="ow">delete</span> <span class="p">)</span>
            <span class="p">)</span>
            <span class="ow">or</span> <span class="n">residual_suffix</span>
        <span class="p">)</span>
        <span class="ow">do</span> <span class="n">residual_form</span>
    <span class="p">)</span>
    <span class="ow">do</span> <span class="n">postlude</span>
<span class="p">)</span>

<span class="cm">/*</span>
<span class="cm">    Note 1: additions of 15 Jun 2005</span>
<span class="cm">*/</span>
</pre></div>


        </div><!-- /.col-md-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://cdn.jsdelivr.net/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  </body>
</html>

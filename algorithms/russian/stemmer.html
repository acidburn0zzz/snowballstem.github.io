<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">
    <title>Russian stemming algorithm - Snowball</title>
    <link href="https://cdn.jsdelivr.net/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="/styles.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://cdn.jsdelivr.net/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/" class="pull-left"><img src="/snub-dodecahedron.gif" style="margin: 4px; height: 42px;"></a>
          <a class="navbar-brand" href="/">Snowball</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="/">Home</a></li>
            <li><a href="/credits.html">Credits</a></li>
            <li><a href="https://github.com/snowballstem">Source</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col-md-2">
          
        </div>
        <div class="col-md-10">
          <h1>Russian stemming algorithm</h1>


<h2>Links to resources</h2>

<ul>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball/master/algorithms/russian/stem_Unicode.sbl">The stemmer in Snowball</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/russian/voc.txt">Sample Russian vocabulary</a></li>
<li> <a href="https://raw.githubusercontent.com/snowballstem/snowball-data/master/russian/output.txt">Its stemmed equivalent</a></li>
<li> <a href="stop.txt">Russian stop word list</a>
</ul>

<p>
The Snowball stemmer represents the Cyrillic alphabet with ASCII characters,
following the standard Library of Congress transliteration scheme.
<!-- The vocabulary + stemmed
    equivalent is also viewable in this transliterated form. -->
</p>

<div style="background-color:lightpink">
<p>
Here is a sample of Russian vocabulary, with the stemmed forms that will
be generated with this algorithm.
</p>

<DL><DD><TABLE CELLPADDING=0>
<TR><TD>  <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
 <TD></TD><TD>        </TD>
 <TD></TD><TD> <B>word</B> </TD>
 <TD></TD><TD> </TD>
 <TD></TD><TD> <B>stem</B> </TD>
</TR>

<TR><TD>
в<BR>
вавиловка<BR>
вагнера<BR>
вагон<BR>
вагона<BR>
вагоне<BR>
вагонов<BR>
вагоном<BR>
вагоны<BR>
важная<BR>
важнее<BR>
важнейшие<BR>
важнейшими<BR>
важничал<BR>
важно<BR>
важного<BR>
важное<BR>
важной<BR>
важном<BR>
важному<BR>
важности<BR>
важностию<BR>
важность<BR>
важностью<BR>
важную<BR>
важны<BR>
важные<BR>
важный<BR>
важным<BR>
важных<BR>
вазах<BR>
вазы<BR>
вакса<BR>
вакханка<BR>
вал<BR>
валандался<BR>
валентина<BR>
валериановых<BR>
валерию<BR>
валетами<BR>
вали<BR>
валил<BR>
валился<BR>
валится<BR>
валов<BR>
вальдшнепа<BR>
вальс<BR>
вальса<BR>
вальсе<BR>
вальсишку<BR>
вальтера<BR>
валяется<BR>
валялась<BR>
валялись<BR>
валялось<BR>
валялся<BR>
валять<BR>
валяются<BR>
вам<BR>
вами<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
в<BR>
вавиловк<BR>
вагнер<BR>
вагон<BR>
вагон<BR>
вагон<BR>
вагон<BR>
вагон<BR>
вагон<BR>
важн<BR>
важн<BR>
важн<BR>
важн<BR>
важнича<BR>
важн<BR>
важн<BR>
важн<BR>
важн<BR>
важн<BR>
важн<BR>
важност<BR>
важност<BR>
важност<BR>
важност<BR>
важн<BR>
важн<BR>
важн<BR>
важн<BR>
важн<BR>
важн<BR>
ваз<BR>
ваз<BR>
вакс<BR>
вакханк<BR>
вал<BR>
валанда<BR>
валентин<BR>
валерианов<BR>
валер<BR>
валет<BR>
вал<BR>
вал<BR>
вал<BR>
вал<BR>
вал<BR>
вальдшнеп<BR>
вальс<BR>
вальс<BR>
вальс<BR>
вальсишк<BR>
вальтер<BR>
валя<BR>
валя<BR>
валя<BR>
валя<BR>
валя<BR>
валя<BR>
валя<BR>
вам<BR>
вам<BR>
</TD>
<TD></TD><TD> </TD>
<TD></TD><TD>
п<BR>
па<BR>
пава<BR>
павел<BR>
павильон<BR>
павильонам<BR>
павла<BR>
павлиний<BR>
павлиньи<BR>
павлиньим<BR>
павлович<BR>
павловна<BR>
павловне<BR>
павловной<BR>
павловну<BR>
павловны<BR>
павловцы<BR>
павлыч<BR>
павлыча<BR>
пагубная<BR>
падает<BR>
падай<BR>
падал<BR>
падала<BR>
падаль<BR>
падать<BR>
падаю<BR>
падают<BR>
падающего<BR>
падающие<BR>
падеж<BR>
падение<BR>
падением<BR>
падении<BR>
падений<BR>
падения<BR>
паденье<BR>
паденья<BR>
падет<BR>
падут<BR>
падучая<BR>
падчерицей<BR>
падчерицы<BR>
падшая<BR>
падшей<BR>
падшему<BR>
падший<BR>
падшим<BR>
падших<BR>
падшую<BR>
паек<BR>
пазухи<BR>
пазуху<BR>
пай<BR>
пакет<BR>
пакетом<BR>
пакеты<BR>
пакостей<BR>
пакостно<BR>
пал<BR>
</TD>
<TD></TD><TD> <b>&#x21d2;</b> </TD>
<TD></TD><TD>
п<BR>
па<BR>
пав<BR>
павел<BR>
павильон<BR>
павильон<BR>
павл<BR>
павлин<BR>
павлин<BR>
павлин<BR>
павлович<BR>
павловн<BR>
павловн<BR>
павловн<BR>
павловн<BR>
павловн<BR>
павловц<BR>
павлыч<BR>
павлыч<BR>
пагубн<BR>
пада<BR>
пада<BR>
пада<BR>
пада<BR>
падал<BR>
пада<BR>
пада<BR>
пада<BR>
пада<BR>
пада<BR>
падеж<BR>
паден<BR>
паден<BR>
паден<BR>
паден<BR>
паден<BR>
паден<BR>
паден<BR>
падет<BR>
падут<BR>
падуч<BR>
падчериц<BR>
падчериц<BR>
падш<BR>
падш<BR>
падш<BR>
падш<BR>
падш<BR>
падш<BR>
падш<BR>
паек<BR>
пазух<BR>
пазух<BR>
па<BR>
пакет<BR>
пакет<BR>
пакет<BR>
пакост<BR>
пакостн<BR>
пал<BR>
</TD>
</TR>
</TABLE></DL>
</div>

<h2>The stemming algorithm</h2>

<p>
<I>i</I>-suffixes <A HREF="../../texts/glossary.html">(*)</A> of Russian tend to be quite regular, with irregularities of
declension involving a change to the stem. Irregular forms therefore
usually just generate two or more possible stems. Stems in Russian can
be very short, and many of the suffixes are also particle words that make
‘natural stopwords’, so a tempting way of running the stemmer is to set a
minimum stem length of zero, and thereby reduce to null all words which
are made up entirely of suffix parts. We have been a little more cautious,
and have insisted that a minimum stem contains one vowel.
</p>

<p>
The 32 letters of the Russian alphabet are as follows, with the
transliterated forms that we will use here shown in brackets:
</p>

<DL><DD><TABLE CELLPADDING=0>
<TR><TD> а (<B><I>a</I></B>)
<TD></TD><TD> б (<B><I>b</I></B>)
<TD></TD><TD> в (<B><I>v</I></B>)
<TD></TD><TD> г (<B><I>g</I></B>)
<TD></TD><TD> д (<B><I>d</I></B>)
<TD></TD><TD> е (<B><I>e</I></B>)
<TD></TD><TD> ж (<B><I>zh</I></B>)
<TD></TD><TD> з (<B><I>z</I></B>)

<TR><TD> и (<B><I>i</I></B>)
<TD></TD><TD> й (<B><I>ì</I></B>)
<TD></TD><TD> к (<B><I>k</I></B>)
<TD></TD><TD> л (<B><I>l</I></B>)
<TD></TD><TD> м (<B><I>m</I></B>)
<TD></TD><TD> н (<B><I>n</I></B>)
<TD></TD><TD> о (<B><I>o</I></B>)
<TD></TD><TD> п (<B><I>p</I></B>)

<TR><TD> р (<B><I>r</I></B>)
<TD></TD><TD> с (<B><I>s</I></B>)
<TD></TD><TD> т (<B><I>t</I></B>)
<TD></TD><TD> у (<B><I>u</I></B>)
<TD></TD><TD> ф (<B><I>f</I></B>)
<TD></TD><TD> х (<B><I>kh</I></B>)
<TD></TD><TD> ц (<B><I><U>ts</U></I></B>)
<TD></TD><TD> ч (<B><I>ch</I></B>)

<TR><TD> ш (<B><I>sh</I></B>)
<TD></TD><TD> щ (<B><I>shch</I></B>)
<TD></TD><TD> ъ (<B><I>"</I></B>)
<TD></TD><TD> ы (<B><I>y</I></B>)
<TD></TD><TD> ь (<B><I>'</I></B>)
<TD></TD><TD> э (<B><I>è</I></B>)
<TD></TD><TD> ю (<B><I><U>iu</U></I></B>)
<TD></TD><TD> я (<B><I><U>ia</U></I></B>)

</TABLE></DL>

<p>
There is a 33rd letter, ё (<B><I>ë</I></B>), but it is rarely used, and we assume it is mapped into е (<B><I>e</I></B>).
</p>

<p>
The following are vowels:
</p>

<DL><DD>
    а (<B><I>a</I></B>)      е (<B><I>e</I></B>)      и (<B><I>i</I></B>)      о (<B><I>o</I></B>)      у (<B><I>u</I></B>)      ы (<B><I>y</I></B>)   
    э (<B><I>è</I></B>)      ю (<B><I><U>iu</U></I></B>)      я (<B><I><U>ia</U></I></B>)
</DL>

<p>
In any word, <I>RV</I> is the region after the first vowel, or the end of the word
if it contains no vowel.
</p>

<p>
<I>R</I>1 is the region after the first non-vowel following a vowel, or the end of
the word if there is no such non-vowel.
</p>

<p>
<I>R</I>2 is the region after the first non-vowel following a vowel in <I>R</I>1, or the
end of the word if there is no such non-vowel.
</p>

<p>
For example:
</p>

<PRE>
    p r o t i v o e s t e s t v e n n o m
         |&lt;------       RV        ------&gt;|
           |&lt;-----       R1       ------&gt;|
               |&lt;-----     R2     ------&gt;|
</PRE>

<p>
(See <A HREF="../../texts/r1r2.html"> note</A> on <I>R</I>1 and <I>R</I>2.)
</p>

<p>
We now define the following classes of ending:
</p>

<p>
<FONT SIZE=-1>PERFECTIVE GERUND</FONT>:
</p>

<DL><DD>
    <p>
    group 1:     в (<B><I>v</I></B>)     вши (<B><I>vshi</I></B>)     вшись (<B><I>vshis'</I></B>)
    </p>

    <p>
    group 2:     ив (<B><I>iv</I></B>)     ивши (<B><I>ivshi</I></B>)     ившись (<B><I>ivshis'</I></B>)   
                ыв (<B><I>yv</I></B>)     ывши (<B><I>yvshi</I></B>)     ывшись (<B><I>yvshis'</I></B>)
    </p>
</DL>

<p>
group 1 endings must follow а (<B><I>a</I></B>) or я (<B><I><U>ia</U></I></B>)
</p>

<p>
<FONT SIZE=-1>ADJECTIVE</FONT>:
</p>

<DL><DD>
    ее (<B><I>ee</I></B>)      ие (<B><I>ie</I></B>)      ые (<B><I>ye</I></B>)      ое (<B><I>oe</I></B>)      ими (<B><I>imi</I></B>)      ыми
    (<B><I>ymi</I></B>)      ей (<B><I>eì</I></B>)      ий (<B><I>iì</I></B>)      ый (<B><I>yì</I></B>)      ой (<B><I>oì</I></B>)      ем
    (<B><I>em</I></B>)      им (<B><I>im</I></B>)      ым (<B><I>ym</I></B>)      ом (<B><I>om</I></B>)      его (<B><I>ego</I></B>)     ого (<B><I>ogo</I></B>)
        ему (<B><I>emu</I></B>)      ому (<B><I>omu</I></B>)      их (<B><I>ikh</I></B>)      ых (<B><I>ykh</I></B>)      ую (<B><I>u<U>iu</U></I></B>)
        юю (<B><I><U>iu</U><U>iu</U></I></B>)      ая (<B><I>a<U>ia</U></I></B>)      яя (<B><I><U>ia</U><U>ia</U></I></B>)
         ою (<B><I>o<U>iu</U></I></B>)
         ею (<B><I>e<U>iu</U></I></B>)
</DL>

<p>
<FONT SIZE=-1>PARTICIPLE</FONT>:
</p>

<DL><DD>
    <p>
    group 1:     ем (<B><I>em</I></B>)     нн (<B><I>nn</I></B>)     вш (<B><I>vsh</I></B>)     ющ (<B><I><U>iu</U>shch</I></B>)     щ (<B><I>shch</I></B>)
    </p>

    <p>
    group 2:     ивш (<B><I>ivsh</I></B>)     ывш (<B><I>yvsh</I></B>)     ующ (<B><I>u<U>iu</U>shch</I></B>)
    </p>
</DL>

<p>
group 1 endings must follow а (<B><I>a</I></B>) or я (<B><I><U>ia</U></I></B>)
</p>

<p>
<FONT SIZE=-1>REFLEXIVE</FONT>:
</p>

<DL><DD>
    <p>
    ся (<B><I>s<U>ia</U></I></B>)     сь (<B><I>s'</I></B>)
    </p>
</DL>

<p>
<FONT SIZE=-1>VERB</FONT>:
</p>

<DL><DD>
    <p>
    group 1: ла (<B><I>la</I></B>)     на (<B><I>na</I></B>)     ете (<B><I>ete</I></B>)     йте (<B><I>ìte</I></B>)     ли (<B><I>li</I></B>)
        й (<B><I>ì</I></B>)     л (<B><I>l</I></B>)     ем (<B><I>em</I></B>)     н (<B><I>n</I></B>)     ло (<B><I>lo</I></B>)     но (<B><I>no</I></B>)     ет
    (<B><I>et</I></B>)     ют (<B><I><U>iu</U>t</I></B>)     ны (<B><I>ny</I></B>)     ть (<B><I>t'</I></B>)     ешь (<B><I>esh'</I></B>)     нно (<B><I>nno</I></B>)
    </p>

    <p>
    group 2: ила (<B><I>ila</I></B>)     ыла (<B><I>yla</I></B>)     ена (<B><I>ena</I></B>)     ейте (<B><I>eìte</I></B>)   
    уйте (<B><I>uìte</I></B>)     ите (<B><I>ite</I></B>)     или (<B><I>ili</I></B>)     ыли
    (<B><I>yli</I></B>)     ей (<B><I>eì</I></B>)     уй (<B><I>uì</I></B>)     ил (<B><I>il</I></B>)     ыл (<B><I>yl</I></B>)     им (<B><I>im</I></B>)   
    ым (<B><I>ym</I></B>)     ен (<B><I>en</I></B>)     ило (<B><I>ilo</I></B>)     ыло (<B><I>ylo</I></B>)     ено (<B><I>eno</I></B>)     ят
    (<B><I><U>ia</U>t</I></B>)     ует (<B><I>uet</I></B>)     уют (<B><I>u<U>iu</U>t</I></B>)     ит (<B><I>it</I></B>)     ыт (<B><I>yt</I></B>)     ены
    (<B><I>eny</I></B>)     ить (<B><I>it'</I></B>)     ыть (<B><I>yt'</I></B>)     ишь (<B><I>ish'</I></B>)   
    ую (<B><I>u<U>iu</U></I></B>)     ю (<B><I><U>iu</U></I></B>)
    </p>
</DL>

<p>
group 1 endings must follow а (<B><I>a</I></B>) or я (<B><I><U>ia</U></I></B>)
</p>

<p>
<FONT SIZE=-1>NOUN</FONT>:
</p>

<DL><DD>
<p>
а (<B><I>a</I></B>)     ев (<B><I>ev</I></B>)     ов (<B><I>ov</I></B>)     ие (<B><I>ie</I></B>)     ье (<B><I>'e</I></B>)     е (<B><I>e</I></B>)     иями
(<B><I>i<U>ia</U>mi</I></B>)     ями (<B><I><U>ia</U>mi</I></B>)     ами (<B><I>ami</I></B>)     еи (<B><I>ei</I></B>)     ии (<B><I>ii</I></B>)     и (<B><I>i</I></B>)   
ией (<B><I>ieì</I></B>)     ей (<B><I>eì</I></B>)     ой (<B><I>oì</I></B>)     ий (<B><I>iì</I></B>)     й (<B><I>ì</I></B>)   
иям (<B><I>i<U>ia</U>m</I></B>)     ям (<B><I><U>ia</U>m</I></B>)     ием (<B><I>iem</I></B>)     ем (<B><I>em</I></B>)     ам (<B><I>am</I></B>)     ом
(<B><I>om</I></B>)     о (<B><I>o</I></B>)     у (<B><I>u</I></B>)     ах (<B><I>akh</I></B>)     иях (<B><I>i<U>ia</U>kh</I></B>)     ях (<B><I><U>ia</U>kh</I></B>)     ы
(<B><I>y</I></B>)     ь (<B><I>'</I></B>)     ию (<B><I>i<U>iu</U></I></B>)     ью (<B><I>'<U>iu</U></I></B>)     ю (<B><I><U>iu</U></I></B>)     ия (<B><I>i<U>ia</U></I></B>)     ья
(<B><I>'<U>ia</U></I></B>)     я (<B><I><U>ia</U></I></B>)
</p>
</DL>

<p>
<FONT SIZE=-1>SUPERLATIVE</FONT>:
</p>

<DL><DD>
    <p>
    ейш (<B><I>eìsh</I></B>)      ейше (<B><I>eìshe</I></B>)
    </p>
</DL>

<p>
These are all <I>i</I>-suffixes. The list of <I>d</I>-suffixes is very short,
</p>

<p>
<FONT SIZE=-1>DERIVATIONAL</FONT>:
</p>

<DL><DD>
    <p>
    ост (<B><I>ost</I></B>)      ость (<B><I>ost'</I></B>)
    </p>
</DL>

<p>
Define an <FONT SIZE=-1>ADJECTIVAL</FONT> ending as an <FONT SIZE=-1>ADJECTIVE</FONT> ending optionally preceded
by a <FONT SIZE=-1>PARTICIPLE</FONT> ending.
</p>

<DL><DD>
    For example, in
<DL><DD><TABLE CELLPADDING=0>
<TR><TD>        бегавшая  <TD></TD><TD> = <TD></TD><TD> бега <TD></TD><TD> + <TD></TD><TD> вш <TD></TD><TD> + <TD></TD><TD> ая
<TR><TD>        (<I>begavsha<U>ia</U></I>         <TD></TD><TD> = <TD></TD><TD> <I>bega</I>     <TD></TD><TD> + <TD></TD><TD> <B><I>vsh</I></B>   <TD></TD><TD> + <TD></TD><TD> <B><I>a<U>ia</U></I></B>)
</TABLE></DL>
    ая (<B><I>a<U>ia</U></I></B>) is an adjective ending, and вш (<B><I>vsh</I></B>) a participle ending of group 1
    (preceded by the final а (<B><I>a</I></B>) of бега (<B><I>bega</I></B>)), so вшая (<B><I>vsha<U>ia</U></I></B>) is an
    adjectival ending.
</DL>

<p>
In searching for an ending in a class, always choose the longest one
from the class.
</p>

<DL><DD>
    So in seaching for a <FONT SIZE=-1>NOUN</FONT> ending for величие (<I>velichie</I>), choose ие (<B><I>ie</I></B>) rather than
    е (<B><I>e</I></B>).
</DL>

<p>
Undouble н (<B><I>n</I></B>) means, if the word ends нн (<B><I>nn</I></B>), remove the last letter.
</p>

<p>
Here now are the stemming rules.
</p>

<p>
All tests take place in the <I>RV</I> part of the word.
</p>

<DL><DD>
    So in the test for perfective gerund, the а (<B><I>a</I></B>) or я (<B><I><U>ia</U></I></B>) which the group 1
    endings must follow must itself be in <I>RV</I>. In other words the letters
    before the <I>RV</I> region are never examined in the stemming process.
</DL>

<p>
Do each of steps 1, 2, 3 and 4.
</p>

<p>
Step 1:
Search for a <FONT SIZE=-1>PERFECTIVE GERUND</FONT> ending. If one is found remove it, and that
is then the end of step 1. Otherwise try and remove a <FONT SIZE=-1>REFLEXIVE</FONT> ending,
and then search in turn for (1) an <FONT SIZE=-1>ADJECTIVAL</FONT>, (2) a <FONT SIZE=-1>VERB</FONT> or (3) a
<FONT SIZE=-1>NOUN</FONT> ending. As soon as one of the endings (1) to (3) is found remove it,
and terminate step 1.
</p>

<p>
Step 2: If the word ends with и (<B><I>i</I></B>), remove it.
</p>

<p>
Step 3: Search for a <FONT SIZE=-1>DERIVATIONAL</FONT> ending in <I>R</I>2 (i.e. the entire ending
must lie in <I>R</I>2), and if one is found, remove it.
</p>

<p>
Step 4: (1) Undouble н (<B><I>n</I></B>), or, (2) if the word ends with a <FONT SIZE=-1>SUPERLATIVE</FONT> ending,
remove it and undouble н (<B><I>n</I></B>), or (3) if the word ends ь (<B><I>'</I></B>) (soft sign) remove it.
</p>

<h2>The same algorithm in Snowball</h2>

<div class="highlight"><pre><span class="kd">stringescapes</span> <span class="p">{}</span>

<span class="cm">/* the 32 Cyrillic letters in the KOI8-R coding scheme, and represented</span>
<span class="cm">   in Latin characters following the conventions of the standard Library</span>
<span class="cm">   of Congress transliteration: */</span>

<span class="kd">stringdef</span> <span class="n">a</span>    <span class="mh">hex</span> <span class="s">&#39;C1&#39;</span>
<span class="kd">stringdef</span> <span class="n">b</span>    <span class="mh">hex</span> <span class="s">&#39;C2&#39;</span>
<span class="kd">stringdef</span> <span class="n">v</span>    <span class="mh">hex</span> <span class="s">&#39;D7&#39;</span>
<span class="kd">stringdef</span> <span class="n">g</span>    <span class="mh">hex</span> <span class="s">&#39;C7&#39;</span>
<span class="kd">stringdef</span> <span class="n">d</span>    <span class="mh">hex</span> <span class="s">&#39;C4&#39;</span>
<span class="kd">stringdef</span> <span class="n">e</span>    <span class="mh">hex</span> <span class="s">&#39;C5&#39;</span>
<span class="kd">stringdef</span> <span class="n">zh</span>   <span class="mh">hex</span> <span class="s">&#39;D6&#39;</span>
<span class="kd">stringdef</span> <span class="n">z</span>    <span class="mh">hex</span> <span class="s">&#39;DA&#39;</span>
<span class="kd">stringdef</span> <span class="n">i</span>    <span class="mh">hex</span> <span class="s">&#39;C9&#39;</span>
<span class="kd">stringdef</span> <span class="n">i`</span>   <span class="mh">hex</span> <span class="s">&#39;CA&#39;</span>
<span class="kd">stringdef</span> <span class="n">k</span>    <span class="mh">hex</span> <span class="s">&#39;CB&#39;</span>
<span class="kd">stringdef</span> <span class="n">l</span>    <span class="mh">hex</span> <span class="s">&#39;CC&#39;</span>
<span class="kd">stringdef</span> <span class="n">m</span>    <span class="mh">hex</span> <span class="s">&#39;CD&#39;</span>
<span class="kd">stringdef</span> <span class="n">n</span>    <span class="mh">hex</span> <span class="s">&#39;CE&#39;</span>
<span class="kd">stringdef</span> <span class="n">o</span>    <span class="mh">hex</span> <span class="s">&#39;CF&#39;</span>
<span class="kd">stringdef</span> <span class="n">p</span>    <span class="mh">hex</span> <span class="s">&#39;D0&#39;</span>
<span class="kd">stringdef</span> <span class="n">r</span>    <span class="mh">hex</span> <span class="s">&#39;D2&#39;</span>
<span class="kd">stringdef</span> <span class="n">s</span>    <span class="mh">hex</span> <span class="s">&#39;D3&#39;</span>
<span class="kd">stringdef</span> <span class="n">t</span>    <span class="mh">hex</span> <span class="s">&#39;D4&#39;</span>
<span class="kd">stringdef</span> <span class="n">u</span>    <span class="mh">hex</span> <span class="s">&#39;D5&#39;</span>
<span class="kd">stringdef</span> <span class="n">f</span>    <span class="mh">hex</span> <span class="s">&#39;C6&#39;</span>
<span class="kd">stringdef</span> <span class="n">kh</span>   <span class="mh">hex</span> <span class="s">&#39;C8&#39;</span>
<span class="kd">stringdef</span> <span class="n">ts</span>   <span class="mh">hex</span> <span class="s">&#39;C3&#39;</span>
<span class="kd">stringdef</span> <span class="n">ch</span>   <span class="mh">hex</span> <span class="s">&#39;DE&#39;</span>
<span class="kd">stringdef</span> <span class="n">sh</span>   <span class="mh">hex</span> <span class="s">&#39;DB&#39;</span>
<span class="kd">stringdef</span> <span class="n">shch</span> <span class="mh">hex</span> <span class="s">&#39;DD&#39;</span>
<span class="kd">stringdef</span> <span class="n">&quot;</span>    <span class="mh">hex</span> <span class="s">&#39;DF&#39;</span>
<span class="kd">stringdef</span> <span class="n">y</span>    <span class="mh">hex</span> <span class="s">&#39;D9&#39;</span>
<span class="kd">stringdef</span> <span class="n">&#39;</span>    <span class="mh">hex</span> <span class="s">&#39;D8&#39;</span>
<span class="kd">stringdef</span> <span class="n">e`</span>   <span class="mh">hex</span> <span class="s">&#39;DC&#39;</span>
<span class="kd">stringdef</span> <span class="n">iu</span>   <span class="mh">hex</span> <span class="s">&#39;C0&#39;</span>
<span class="kd">stringdef</span> <span class="n">ia</span>   <span class="mh">hex</span> <span class="s">&#39;D1&#39;</span>

<span class="kd">routines</span> <span class="p">(</span> <span class="n">mark_regions</span> <span class="n">R2</span>
           <span class="n">perfective_gerund</span>
           <span class="n">adjective</span>
           <span class="n">adjectival</span>
           <span class="n">reflexive</span>
           <span class="n">verb</span>
           <span class="n">noun</span>
           <span class="n">derivational</span>
           <span class="n">tidy_up</span>
<span class="p">)</span>

<span class="kd">externals</span> <span class="p">(</span> <span class="n">stem</span> <span class="p">)</span>

<span class="kd">integers</span> <span class="p">(</span> <span class="n">pV</span> <span class="n">p2</span> <span class="p">)</span>

<span class="kd">groupings</span> <span class="p">(</span> <span class="n">v</span> <span class="p">)</span>

<span class="kd">define</span> <span class="n">v</span> <span class="s">&#39;{a}{e}{i}{o}{u}{y}{e`}{iu}{ia}&#39;</span>

<span class="kd">define</span> <span class="n">mark_regions</span> <span class="k">as</span> <span class="p">(</span>

    <span class="o">$</span><span class="n">pV</span> <span class="o">=</span> <span class="ow">limit</span>
    <span class="o">$</span><span class="n">p2</span> <span class="o">=</span> <span class="ow">limit</span>
    <span class="ow">do</span> <span class="p">(</span>
        <span class="ow">gopast</span> <span class="n">v</span>  <span class="ow">setmark</span> <span class="n">pV</span>  <span class="ow">gopast</span> <span class="ow">non-</span><span class="n">v</span>
        <span class="ow">gopast</span> <span class="n">v</span>  <span class="ow">gopast</span> <span class="ow">non-</span><span class="n">v</span>  <span class="ow">setmark</span> <span class="n">p2</span>
       <span class="p">)</span>
<span class="p">)</span>

<span class="kd">backwardmode</span> <span class="p">(</span>

    <span class="kd">define</span> <span class="n">R2</span> <span class="k">as</span> <span class="o">$</span><span class="n">p2</span> <span class="o">&lt;=</span> <span class="ow">cursor</span>

    <span class="kd">define</span> <span class="n">perfective_gerund</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span> <span class="p">(</span>
            <span class="s">&#39;{v}&#39;</span>
            <span class="s">&#39;{v}{sh}{i}&#39;</span>
            <span class="s">&#39;{v}{sh}{i}{s}{&#39;}&#39;</span>
                <span class="p">(</span><span class="s">&#39;{a}&#39;</span> <span class="ow">or</span> <span class="s">&#39;{ia}&#39;</span> <span class="ow">delete</span><span class="p">)</span>
            <span class="s">&#39;{i}{v}&#39;</span>
            <span class="s">&#39;{i}{v}{sh}{i}&#39;</span>
            <span class="s">&#39;{i}{v}{sh}{i}{s}{&#39;}&#39;</span>
            <span class="s">&#39;{y}{v}&#39;</span>
            <span class="s">&#39;{y}{v}{sh}{i}&#39;</span>
            <span class="s">&#39;{y}{v}{sh}{i}{s}{&#39;}&#39;</span>
                <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">adjective</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span> <span class="p">(</span>
            <span class="s">&#39;{e}{e}&#39;</span> <span class="s">&#39;{i}{e}&#39;</span> <span class="s">&#39;{y}{e}&#39;</span> <span class="s">&#39;{o}{e}&#39;</span> <span class="s">&#39;{i}{m}{i}&#39;</span> <span class="s">&#39;{y}{m}{i}&#39;</span>
            <span class="s">&#39;{e}{i`}&#39;</span> <span class="s">&#39;{i}{i`}&#39;</span> <span class="s">&#39;{y}{i`}&#39;</span> <span class="s">&#39;{o}{i`}&#39;</span> <span class="s">&#39;{e}{m}&#39;</span> <span class="s">&#39;{i}{m}&#39;</span>
            <span class="s">&#39;{y}{m}&#39;</span> <span class="s">&#39;{o}{m}&#39;</span> <span class="s">&#39;{e}{g}{o}&#39;</span> <span class="s">&#39;{o}{g}{o}&#39;</span> <span class="s">&#39;{e}{m}{u}&#39;</span>
            <span class="s">&#39;{o}{m}{u}&#39;</span> <span class="s">&#39;{i}{kh}&#39;</span> <span class="s">&#39;{y}{kh}&#39;</span> <span class="s">&#39;{u}{iu}&#39;</span> <span class="s">&#39;{iu}{iu}&#39;</span> <span class="s">&#39;{a}{ia}&#39;</span>
            <span class="s">&#39;{ia}{ia}&#39;</span>
                        <span class="c1">// and -</span>
            <span class="s">&#39;{o}{iu}&#39;</span>   <span class="c1">// - which is somewhat archaic</span>
            <span class="s">&#39;{e}{iu}&#39;</span>   <span class="c1">// - soft form of {o}{iu}</span>
                <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">adjectival</span> <span class="k">as</span> <span class="p">(</span>
        <span class="n">adjective</span>

        <span class="cm">/* of the participle forms, em, vsh, ivsh, yvsh are readily removable.</span>
<span class="cm">           nn, {iu}shch, shch, u{iu}shch can be removed, with a small proportion of</span>
<span class="cm">           errors. Removing im, uem, enn creates too many errors.</span>
<span class="cm">        */</span>

        <span class="ow">try</span> <span class="p">(</span>
            <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span> <span class="p">(</span>
                <span class="s">&#39;{e}{m}&#39;</span>                  <span class="c1">// present passive participle</span>
                <span class="s">&#39;{n}{n}&#39;</span>                  <span class="c1">// adjective from past passive participle</span>
                <span class="s">&#39;{v}{sh}&#39;</span>                 <span class="c1">// past active participle</span>
                <span class="s">&#39;{iu}{shch}&#39;</span> <span class="s">&#39;{shch}&#39;</span>     <span class="c1">// present active participle</span>
                    <span class="p">(</span><span class="s">&#39;{a}&#39;</span> <span class="ow">or</span> <span class="s">&#39;{ia}&#39;</span> <span class="ow">delete</span><span class="p">)</span>

     <span class="c1">//but not  &#39;{i}{m}&#39; &#39;{u}{e}{m}&#39;      // present passive participle</span>
     <span class="c1">//or       &#39;{e}{n}{n}&#39;               // adjective from past passive participle</span>

                <span class="s">&#39;{i}{v}{sh}&#39;</span> <span class="s">&#39;{y}{v}{sh}&#39;</span><span class="c1">// past active participle</span>
                <span class="s">&#39;{u}{iu}{shch}&#39;</span>          <span class="c1">// present active participle</span>
                    <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">reflexive</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span> <span class="p">(</span>
            <span class="s">&#39;{s}{ia}&#39;</span>
            <span class="s">&#39;{s}{&#39;}&#39;</span>
                <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">verb</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span> <span class="p">(</span>
            <span class="s">&#39;{l}{a}&#39;</span> <span class="s">&#39;{n}{a}&#39;</span> <span class="s">&#39;{e}{t}{e}&#39;</span> <span class="s">&#39;{i`}{t}{e}&#39;</span> <span class="s">&#39;{l}{i}&#39;</span> <span class="s">&#39;{i`}&#39;</span>
            <span class="s">&#39;{l}&#39;</span> <span class="s">&#39;{e}{m}&#39;</span> <span class="s">&#39;{n}&#39;</span> <span class="s">&#39;{l}{o}&#39;</span> <span class="s">&#39;{n}{o}&#39;</span> <span class="s">&#39;{e}{t}&#39;</span> <span class="s">&#39;{iu}{t}&#39;</span>
            <span class="s">&#39;{n}{y}&#39;</span> <span class="s">&#39;{t}{&#39;}&#39;</span> <span class="s">&#39;{e}{sh}{&#39;}&#39;</span>

            <span class="s">&#39;{n}{n}{o}&#39;</span>
                <span class="p">(</span><span class="s">&#39;{a}&#39;</span> <span class="ow">or</span> <span class="s">&#39;{ia}&#39;</span> <span class="ow">delete</span><span class="p">)</span>

            <span class="s">&#39;{i}{l}{a}&#39;</span> <span class="s">&#39;{y}{l}{a}&#39;</span> <span class="s">&#39;{e}{n}{a}&#39;</span> <span class="s">&#39;{e}{i`}{t}{e}&#39;</span>
            <span class="s">&#39;{u}{i`}{t}{e}&#39;</span> <span class="s">&#39;{i}{t}{e}&#39;</span> <span class="s">&#39;{i}{l}{i}&#39;</span> <span class="s">&#39;{y}{l}{i}&#39;</span> <span class="s">&#39;{e}{i`}&#39;</span>
            <span class="s">&#39;{u}{i`}&#39;</span> <span class="s">&#39;{i}{l}&#39;</span> <span class="s">&#39;{y}{l}&#39;</span> <span class="s">&#39;{i}{m}&#39;</span> <span class="s">&#39;{y}{m}&#39;</span> <span class="s">&#39;{e}{n}&#39;</span>
            <span class="s">&#39;{i}{l}{o}&#39;</span> <span class="s">&#39;{y}{l}{o}&#39;</span> <span class="s">&#39;{e}{n}{o}&#39;</span> <span class="s">&#39;{ia}{t}&#39;</span> <span class="s">&#39;{u}{e}{t}&#39;</span>
            <span class="s">&#39;{u}{iu}{t}&#39;</span> <span class="s">&#39;{i}{t}&#39;</span> <span class="s">&#39;{y}{t}&#39;</span> <span class="s">&#39;{e}{n}{y}&#39;</span> <span class="s">&#39;{i}{t}{&#39;}&#39;</span>
            <span class="s">&#39;{y}{t}{&#39;}&#39;</span> <span class="s">&#39;{i}{sh}{&#39;}&#39;</span> <span class="s">&#39;{u}{iu}&#39;</span> <span class="s">&#39;{iu}&#39;</span>
                <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
            <span class="cm">/* note the short passive participle tests:</span>
<span class="cm">               &#39;{n}{a}&#39; &#39;{n}&#39; &#39;{n}{o}&#39; &#39;{n}{y}&#39;</span>
<span class="cm">               &#39;{e}{n}{a}&#39; &#39;{e}{n}&#39; &#39;{e}{n}{o}&#39; &#39;{e}{n}{y}&#39;</span>
<span class="cm">            */</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">noun</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span> <span class="p">(</span>
            <span class="s">&#39;{a}&#39;</span> <span class="s">&#39;{e}{v}&#39;</span> <span class="s">&#39;{o}{v}&#39;</span> <span class="s">&#39;{i}{e}&#39;</span> <span class="s">&#39;{&#39;}{e}&#39;</span> <span class="s">&#39;{e}&#39;</span>
            <span class="s">&#39;{i}{ia}{m}{i}&#39;</span> <span class="s">&#39;{ia}{m}{i}&#39;</span> <span class="s">&#39;{a}{m}{i}&#39;</span> <span class="s">&#39;{e}{i}&#39;</span> <span class="s">&#39;{i}{i}&#39;</span>
            <span class="s">&#39;{i}&#39;</span> <span class="s">&#39;{i}{e}{i`}&#39;</span> <span class="s">&#39;{e}{i`}&#39;</span> <span class="s">&#39;{o}{i`}&#39;</span> <span class="s">&#39;{i}{i`}&#39;</span> <span class="s">&#39;{i`}&#39;</span>
            <span class="s">&#39;{i}{ia}{m}&#39;</span> <span class="s">&#39;{ia}{m}&#39;</span> <span class="s">&#39;{i}{e}{m}&#39;</span> <span class="s">&#39;{e}{m}&#39;</span> <span class="s">&#39;{a}{m}&#39;</span> <span class="s">&#39;{o}{m}&#39;</span>
            <span class="s">&#39;{o}&#39;</span> <span class="s">&#39;{u}&#39;</span> <span class="s">&#39;{a}{kh}&#39;</span> <span class="s">&#39;{i}{ia}{kh}&#39;</span> <span class="s">&#39;{ia}{kh}&#39;</span> <span class="s">&#39;{y}&#39;</span> <span class="s">&#39;{&#39;}&#39;</span>
            <span class="s">&#39;{i}{iu}&#39;</span> <span class="s">&#39;{&#39;}{iu}&#39;</span> <span class="s">&#39;{iu}&#39;</span> <span class="s">&#39;{i}{ia}&#39;</span> <span class="s">&#39;{&#39;}{ia}&#39;</span> <span class="s">&#39;{ia}&#39;</span>
                <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
            <span class="cm">/* the small class of neuter forms &#39;{e}{n}{i}&#39; &#39;{e}{n}{e}{m}&#39;</span>
<span class="cm">               &#39;{e}{n}{a}&#39; &#39;{e}{n}&#39; &#39;{e}{n}{a}{m}&#39; &#39;{e}{n}{a}{m}{i}&#39; &#39;{e}{n}{a}{x}&#39;</span>
<span class="cm">               omitted - they only occur on 12 words.</span>
<span class="cm">            */</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">derivational</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="n">R2</span> <span class="k">among</span> <span class="p">(</span>
            <span class="s">&#39;{o}{s}{t}&#39;</span>
            <span class="s">&#39;{o}{s}{t}{&#39;}&#39;</span>
                <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="kd">define</span> <span class="n">tidy_up</span> <span class="k">as</span> <span class="p">(</span>
        <span class="p">[</span><span class="ow">substring</span><span class="p">]</span> <span class="k">among</span> <span class="p">(</span>

            <span class="s">&#39;{e}{i`}{sh}&#39;</span>
            <span class="s">&#39;{e}{i`}{sh}{e}&#39;</span>  <span class="c1">// superlative forms</span>
               <span class="p">(</span><span class="ow">delete</span>
                <span class="p">[</span><span class="s">&#39;{n}&#39;</span><span class="p">]</span> <span class="s">&#39;{n}&#39;</span> <span class="ow">delete</span>
               <span class="p">)</span>
            <span class="s">&#39;{n}&#39;</span>
               <span class="p">(</span><span class="s">&#39;{n}&#39;</span> <span class="ow">delete</span><span class="p">)</span> <span class="c1">// e.g. -nno endings</span>
            <span class="s">&#39;{&#39;}&#39;</span>
               <span class="p">(</span><span class="ow">delete</span><span class="p">)</span>  <span class="c1">// with some slight false conflations</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="kd">define</span> <span class="n">stem</span> <span class="k">as</span> <span class="p">(</span>

    <span class="ow">do</span> <span class="n">mark_regions</span>
    <span class="ow">backwards</span> <span class="ow">setlimit</span> <span class="ow">tomark</span> <span class="n">pV</span> <span class="k">for</span> <span class="p">(</span>
        <span class="ow">do</span> <span class="p">(</span>
             <span class="n">perfective_gerund</span> <span class="ow">or</span>
             <span class="p">(</span> <span class="ow">try</span> <span class="n">reflexive</span>
               <span class="n">adjectival</span> <span class="ow">or</span> <span class="n">verb</span> <span class="ow">or</span> <span class="n">noun</span>
             <span class="p">)</span>
        <span class="p">)</span>
        <span class="ow">try</span><span class="p">([</span> <span class="s">&#39;{i}&#39;</span> <span class="p">]</span> <span class="ow">delete</span><span class="p">)</span>
        <span class="c1">// because noun ending -i{iu} is being treated as verb ending -{iu}</span>

        <span class="ow">do</span> <span class="n">derivational</span>
        <span class="ow">do</span> <span class="n">tidy_up</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>


        </div><!-- /.col-md-10 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container">
      <footer class="footer">
        <p>
          <a href="/lists.html">Write to our mailing list</a> if you have comments or questions about the project.
        </p>
      </footer>
    </div> <!-- /container -->
    <script src="https://cdn.jsdelivr.net/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  </body>
</html>
